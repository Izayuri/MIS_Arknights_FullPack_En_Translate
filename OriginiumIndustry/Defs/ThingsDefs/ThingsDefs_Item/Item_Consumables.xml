<?xml version="1.0" encoding="utf-8" ?>
<Defs>
  <ThingDef ParentName="DrugBase">
    <defName>BlendedBeer</defName>
    <label>化合啤酒</label>
    <description>传统的酿造方法效率低下，在啤酒市场不断扩大的前提下，用化学物质合成啤酒的想法应运而生，虽然成分和传统的啤酒千差万别，但是这种饮料的味道和真正的啤酒相差无几。</description>
    <descriptionHyperlinks>      <!-- 状态 -->
      <HediffDef>AlcoholHigh</HediffDef>
      <HediffDef>AlcoholTolerance</HediffDef>
      <HediffDef>Hangover</HediffDef>
      <HediffDef>AlcoholAddiction</HediffDef>
      <HediffDef>Cirrhosis</HediffDef>
      <HediffDef>ChemicalDamageModerate</HediffDef>
    </descriptionHyperlinks>
    <possessionCount>6</possessionCount>
    <graphicData>
      <texPath>Things/Consumables/BlendedBeer</texPath>
      <graphicClass>Graphic_StackCount</graphicClass>
    </graphicData>
    <equippedAngleOffset>-150</equippedAngleOffset>    <!--装备角度偏移-->
    <rotatable>false</rotatable>    <!--可旋转的-->
    <stackLimit>25</stackLimit>    <!--堆叠限制-->
    <statBases>
      <DeteriorationRate>0.5</DeteriorationRate>      <!--老化率-->
      <MarketValue>12</MarketValue>      <!--市场价值-->
      <Mass>0.3</Mass>      <!--重量-->
      <Flammability>0.5</Flammability>      <!--可燃性-->
      <Nutrition>0.08</Nutrition>      <!--营养-->
    </statBases>
    <ingestible>      <!--可摄入的-->
      <foodType>Fluid, Processed, Liquor</foodType>      <!--食物类型-->
      <joyKind>Chemical</joyKind>      <!--娱乐属性-->
      <joy>0.17</joy>      <!--娱乐数值-->
      <nurseable>true</nurseable>      <!--可护理的-->
      <drugCategory>Social</drugCategory>      <!--药物类别-->
      <ingestSound>Ingest_Beer</ingestSound>      <!--摄取声音-->
      <ingestHoldOffsetStanding>        <!--摄入暂停站立-->
        <northDefault>
          <offset>(0.18,0,0)</offset>          <!--大概是方位？应该默认就行-->
        </northDefault>
      </ingestHoldOffsetStanding>
      <ingestCommandString>喝 {0}</ingestCommandString>>      <!--摄取命令字符串-->
      <ingestReportString>正在喝 {0}.</ingestReportString>>      <!--摄取报告字符串-->
      <chairSearchRadius>25</chairSearchRadius>>      <!--椅子搜索半径-->
      <canAutoSelectAsFoodForCaravan>false</canAutoSelectAsFoodForCaravan>>      <!--可以自动选择作为远行队的食物-->
      <tableDesired>false</tableDesired>>      <!--需要桌子-->
      <outcomeDoers>>
        <li Class="IngestionOutcomeDoer_GiveHediff">
          <hediffDef>AlcoholHigh</hediffDef>
          <severity>0.15</severity>          <!--严重程度-->
          <toleranceChemical>Alcohol</toleranceChemical>          <!--化学耐受性-->
        </li>
        <li Class="IngestionOutcomeDoer_GiveHediff">
          <hediffDef>AlcoholTolerance</hediffDef>
          <severity>0.016</severity>
          <divideByBodySize>true</divideByBodySize>
        </li>
      </outcomeDoers>
    </ingestible>
    <equipmentType>Primary</equipmentType>    <!--装备类型 原版好像都是首要-->
    <techLevel>Neolithic</techLevel>    <!--技术水平 石器、中世纪之类的-->
    <comps>
      <li Class="CompProperties_Drug">
        <chemical>Alcohol</chemical>        <!---->
        <addictiveness>0.010</addictiveness>        <!--成瘾概率-->
        <minToleranceToAddict>0.25</minToleranceToAddict>        <!--对上瘾的最小耐受-->
        <existingAddictionSeverityOffset>0.20</existingAddictionSeverityOffset>        <!--现有成瘾严重程度偏移-->
        <needLevelOffset>0.9</needLevelOffset>        <!--需求等级-->
        <listOrder>10</listOrder>        <!--列表顺序-->
      </li>
      <li>
        <compClass>CompEquippable</compClass>        <!--可装备/可植入之类-->
      </li>
    </comps>
    <weaponClasses>      <!--武器类-->
      <li>Melee</li>
      <li>MeleeBlunt</li>
    </weaponClasses>
    <tools>
      <li>
        <label>bottle</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>9</power>
        <cooldownTime>2</cooldownTime>
      </li>
      <li>
        <label>neck</label>
        <capacities>
          <li>Poke</li>
        </capacities>
        <power>9</power>
        <cooldownTime>2</cooldownTime>
      </li>
    </tools>
    <allowedArchonexusCount>50</allowedArchonexusCount>    <!--任务相关，应该不用管了-->
  </ThingDef>

  <RecipeDef>    <!--配方-->
    <defName>Make_BlendedBeer</defName>
    <label>制作化和啤酒</label>
    <description>制作化和啤酒。</description>
    <jobString>正在制作化和啤酒。</jobString>
    <workSpeedStat>DrugCookingSpeed</workSpeedStat>    <!--工作速度统计-->
    <workSkill>Cooking</workSkill>    <!--工作技能-->
    <effectWorking>Cook</effectWorking>    <!--工作影响-->
    <soundWorking>Recipe_Brewing</soundWorking>    <!--工作音效-->
    <allowMixingIngredients>true</allowMixingIngredients>    <!--允许混合配料-->
    <workAmount>1000</workAmount>    <!--工作量-->
    <targetCountAdjustment>1</targetCountAdjustment>    <!--目标计数调整-->
    <ingredients>      <!--配料表-->
      <li>
        <filter>
          <thingDefs>
            <li>RawHops</li>            <!--需求物-->
          </thingDefs>
        </filter>
        <count>25</count>        <!--需求数量-->
      </li>
    </ingredients>
    <fixedIngredientFilter>      <!--固定成分过滤器-->
      <thingDefs>
        <li>RawHops</li>
      </thingDefs>
    </fixedIngredientFilter>
    <products>      <!--产品-->
      <BlendedBeer>5</BlendedBeer>      <!--产品数量-->
    </products>
  </RecipeDef>

  <HediffDef>    <!--大概就是各种状态了 感觉和原版保持一致应该就行-->
    <defName>AlcoholHigh</defName>
    <label>alcohol</label>
    <labelNoun>drunkenness</labelNoun>
    <description>Alcohol in the bloodstream. It makes people happy, but reduces capacities.</description>
    <hediffClass>Hediff_Alcohol</hediffClass>
    <defaultLabelColor>(1,0,0.5)</defaultLabelColor>
    <scenarioCanAdd>true</scenarioCanAdd>
    <isBad>false</isBad>
    <comps>
      <li Class="HediffCompProperties_Effecter">
        <stateEffecter>Drunk</stateEffecter>        <!--状态影响-->
        <severityIndices>3~5</severityIndices>        <!--严重性指数-->
      </li>
      <li Class="HediffCompProperties_SeverityPerDay">
        <severityPerDay>-0.75</severityPerDay>        <!--每日严重性-->
        <showHoursToRecover>true</showHoursToRecover>        <!--显示要恢复的小时数-->
      </li>
    </comps>
    <stages>      <!--阶段-->
      <li>
        <label>warm</label>        <!--名称-->
        <painFactor>0.9</painFactor>        <!--疼痛-->
        <socialFightChanceFactor>1.5</socialFightChanceFactor>        <!--社交、打架概率-->
        <capMods>
          <li>
            <capacity>Manipulation</capacity>
            <offset>-0.02</offset>
          </li>
        </capMods>
      </li>
      <li>
        <minSeverity>0.25</minSeverity>        <!--最小严重性-->
        <label>tipsy</label>
        <painFactor>0.8</painFactor>
        <socialFightChanceFactor>2.5</socialFightChanceFactor>
        <capMods>
          <li>
            <capacity>Consciousness</capacity>
            <postFactor>0.9</postFactor>
          </li>
          <li>
            <capacity>Moving</capacity>
            <offset>-0.05</offset>
          </li>
        </capMods>
      </li>
      <li>
        <minSeverity>0.4</minSeverity>
        <label>drunk</label>
        <painFactor>0.5</painFactor>
        <socialFightChanceFactor>4.0</socialFightChanceFactor>
        <vomitMtbDays>0.75</vomitMtbDays>
        <tale>Drunk</tale>
        <capMods>
          <li>
            <capacity>Consciousness</capacity>
            <postFactor>0.65</postFactor>
          </li>
          <li>
            <capacity>Moving</capacity>
            <offset>-0.10</offset>
          </li>
        </capMods>
      </li>
      <li>
        <minSeverity>0.7</minSeverity>
        <label>hammered</label>
        <painFactor>0.3</painFactor>
        <socialFightChanceFactor>5.0</socialFightChanceFactor>
        <vomitMtbDays>0.2</vomitMtbDays>
        <painOffset>0.05</painOffset>
        <capMods>
          <li>
            <capacity>Consciousness</capacity>
            <postFactor>0.5</postFactor>
          </li>
          <li>
            <capacity>Moving</capacity>
            <offset>-0.10</offset>
          </li>
        </capMods>
      </li>
      <li>
        <minSeverity>0.9</minSeverity>
        <label>blackout</label>
        <painFactor>0.1</painFactor>
        <capMods>
          <li>
            <capacity>Consciousness</capacity>
            <setMax>0.1</setMax>
          </li>
        </capMods>
        <hediffGivers>
          <li Class="HediffGiver_Random">
            <hediff>ChemicalDamageModerate</hediff>
            <mtbDays>10</mtbDays>
            <partsToAffect>
              <li>Brain</li>
            </partsToAffect>
          </li>
        </hediffGivers>
      </li>
    </stages>
  </HediffDef>

  <HediffDef>
    <defName>Hangover</defName>
    <label>hangover</label>
    <labelNoun>a hangover</labelNoun>
    <description>An unpleasant delayed after-effect of alcohol intoxication.</description>
    <hediffClass>Hediff_Hangover</hediffClass>
    <initialSeverity>1</initialSeverity>
    <scenarioCanAdd>true</scenarioCanAdd>
    <comps>
      <li Class="HediffCompProperties_SeverityPerDay">
        <severityPerDay>-1</severityPerDay>
      </li>
    </comps>
    <stages>
      <li>
        <minSeverity>0</minSeverity>
        <label>slight</label>
        <capMods>
          <li>
            <capacity>Consciousness</capacity>
            <offset>-0.03</offset>
          </li>
        </capMods>
      </li>
      <li>
        <minSeverity>0.15</minSeverity>
        <label>strong</label>
        <capMods>
          <li>
            <capacity>Consciousness</capacity>
            <offset>-0.08</offset>
          </li>
        </capMods>
      </li>
      <!-- starts low because it isn't visible until alcohol hediff is gone-->
      <li>
        <minSeverity>0.40</minSeverity>
        <label>pounding</label>
        <vomitMtbDays>0.4</vomitMtbDays>
        <capMods>
          <li>
            <capacity>Consciousness</capacity>
            <offset>-0.18</offset>
          </li>
        </capMods>
      </li>
    </stages>
  </HediffDef>

  <ThoughtDef>    <!--情绪-->
    <defName>Inebriated</defName>
    <workerClass>ThoughtWorker_Hediff</workerClass>
    <hediff>AlcoholHigh</hediff>
    <validWhileDespawned>true</validWhileDespawned>
    <developmentalStageFilter>Baby, Child, Adult</developmentalStageFilter>
    <stages>
      <li>
        <label>alcohol warmth</label>
        <description>I just feel a bit more relaxed after that drink. That's good.</description>
        <baseMoodEffect>10</baseMoodEffect>        <!--情绪效果-->
      </li>
      <li>
        <label>quite inebriated</label>
        <description>I'm a bit wobbly! And this is quite enjoyable.</description>
        <baseMoodEffect>14</baseMoodEffect>
      </li>
      <li>
        <label>drunk</label>
        <description>I feel so uninhibited and unafraid! This is a great time!</description>
        <baseMoodEffect>20</baseMoodEffect>
      </li>
      <li>
        <label>hammered</label>
        <description>Wooo! What's going on?</description>
        <baseMoodEffect>26</baseMoodEffect>
      </li>
    </stages>
  </ThoughtDef>

  <ThoughtDef>
    <defName>Hungover</defName>
    <workerClass>ThoughtWorker_Hediff</workerClass>
    <hediff>Hangover</hediff>
    <validWhileDespawned>true</validWhileDespawned>
    <developmentalStageFilter>Baby, Child, Adult</developmentalStageFilter>
    <stages>
      <li>
        <label>mild hangover</label>
        <description>The headache is almost gone.</description>
        <baseMoodEffect>-3</baseMoodEffect>
      </li>
      <li>
        <label>serious hangover</label>
        <description>My head hurts from all that liquor.</description>
        <baseMoodEffect>-6</baseMoodEffect>
      </li>
      <li>
        <label>pounding hangover</label>
        <description>It feels like a gaggle of geese are pecking at my skull.</description>
        <baseMoodEffect>-12</baseMoodEffect>
      </li>
      <li>
        <visible>false</visible>
      </li>
    </stages>
  </ThoughtDef>

  <!-- Alcohol addiction -->

  <ChemicalDef>
    <defName>Alcohol</defName>
    <label>alcohol</label>
    <addictionHediff>AlcoholAddiction</addictionHediff>
    <toleranceHediff>AlcoholTolerance</toleranceHediff>
    <onGeneratedAddictedToleranceChance>0.8</onGeneratedAddictedToleranceChance>
    <onGeneratedAddictedEvents>
      <li>
        <hediff>Cirrhosis</hediff>
        <chance>0.15</chance>
        <partsToAffect>
          <li>Liver</li>
        </partsToAffect>
      </li>
    </onGeneratedAddictedEvents>
  </ChemicalDef>

  <NeedDef ParentName="DrugAddictionNeedBase">
    <defName>Chemical_Alcohol</defName>
    <needClass>Need_Chemical</needClass>
    <label>alcohol</label>
    <description>Because of an alcohol addiction, this person needs to regularly consume alcohol to avoid withdrawal symptoms.</description>
    <listPriority>35</listPriority>
  </NeedDef>

  <HediffDef ParentName="DrugToleranceBase">
    <defName>AlcoholTolerance</defName>
    <label>alcohol tolerance</label>
    <description>A built-up tolerance to alcohol. The more severe this tolerance is, the more alcohol it takes to get the same effect.</description>
    <comps>
      <li Class="HediffCompProperties_SeverityPerDay">
        <severityPerDay>-0.016</severityPerDay>
      </li>
      <li Class="HediffCompProperties_DrugEffectFactor">
        <chemical>Alcohol</chemical>
      </li>
    </comps>
    <hediffGivers>
      <li Class="HediffGiver_RandomDrugEffect">
        <hediff>Cirrhosis</hediff>
        <severityToMtbDaysCurve>
          <points>
            <li>(0.45, 99999)</li>
            <li>(0.5, 60)</li>
            <li>(1, 45)</li>
          </points>
        </severityToMtbDaysCurve>
        <partsToAffect>
          <li>Liver</li>
        </partsToAffect>
      </li>
      <li Class="HediffGiver_RandomDrugEffect">
        <hediff>Carcinoma</hediff>
        <severityToMtbDaysCurve>
          <points>
            <li>(0.45, 99999)</li>
            <li>(0.5, 180)</li>
            <li>(1, 150)</li>
          </points>
        </severityToMtbDaysCurve>
        <partsToAffect>
          <li>Liver</li>
        </partsToAffect>
      </li>
    </hediffGivers>
  </HediffDef>

  <HediffDef ParentName="AddictionBase">
    <defName>AlcoholAddiction</defName>
    <label>alcohol addiction</label>
    <description>A chemical addiction to alcohol. Long-term presence of alcohol has caused neurological adaptations at the cellular level, so the brain can no longer function properly without the drug.
\nWithout regular doses of alcohol, withdrawal symptoms will begin. However, extended abstinence will force the brain to adapt back to its normal state, resolving the addiction.</description>
    <hediffClass>Hediff_Addiction</hediffClass>
    <causesNeed>Chemical_Alcohol</causesNeed>
    <comps>
      <li Class="HediffCompProperties_SeverityPerDay">
        <severityPerDay>-0.0333</severityPerDay>
        <showDaysToRecover>true</showDaysToRecover>
      </li>
    </comps>
    <stages>
      <li>
      </li>
      <li>
        <label>withdrawal</label>
        <socialFightChanceFactor>2.0</socialFightChanceFactor>
        <capMods>
          <li>
            <capacity>Consciousness</capacity>
            <offset>-0.20</offset>
          </li>
          <li>
            <capacity>Moving</capacity>
            <offset>-0.30</offset>
          </li>
          <li>
            <capacity>Manipulation</capacity>
            <postFactor>0.5</postFactor>
          </li>
        </capMods>
        <mentalStateGivers>
          <li>
            <mentalState>Binging_DrugMajor</mentalState>
            <mtbDays>40</mtbDays>
          </li>
        </mentalStateGivers>
      </li>
    </stages>
  </HediffDef>

  <ThoughtDef>
    <defName>AlcoholWithdrawal</defName>
    <workerClass>ThoughtWorker_Hediff</workerClass>
    <hediff>AlcoholAddiction</hediff>
    <validWhileDespawned>true</validWhileDespawned>
    <developmentalStageFilter>Baby, Child, Adult</developmentalStageFilter>
    <stages>
      <li>
        <visible>false</visible>
      </li>
      <li>
        <label>alcohol withdrawal</label>
        <description>Feeling shaky. Everything pisses me off. I keep thinking of drinking.</description>
        <baseMoodEffect>-35</baseMoodEffect>
      </li>
    </stages>
  </ThoughtDef>


</Defs>